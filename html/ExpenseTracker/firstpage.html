<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="/css/ExpenseTracker/firstpage.css">
</head>

<body>

    <div class="split left">
        <div class="form">
            <div id="formcontent" class="formcontent">
                <form action="#" >
                    <div class="title">
                        <h2><span id="inserttitle">New </span>Transaction</h2>
                    </div>
                    <div class="row">
                        <div class="date leftdiv">
                            <label id="datelabel">Choose a Date</label>
                            <input type="date" name="" required="" id="date">
                            <div id="datealert"></div>
                        </div>
                        <div class="time rightdiv">
                            <label id="timelabel">Choose a Time</label>
                            <input type="time" name="" required="" id="time">
                        </div>
                    </div>
                    <div class="row">
                        <div class="leftdiv">
                            <label id="categorylabel" for="category">Choose a Category</label>
                            <select name="category" id="category" id="category">
                                <option>Choose a Category</option>
                                <option>Dairy Products</option>
                                <option>Snacks</option>
                                <option>Electronics</option>
                                <option>Travel Expense</option>
                            </select>
                        </div>
                        <div class="rightdiv">
                            <label id="amountlabel">Enter the Amount</label>
                            <input type="number" name="" required="" id="amount">
                        </div>
                    </div>
                    <div class="row">
                        <label class="descrowlabel" id="descriptionlabel">Description</label>
                        <textarea name="description" id="description" required=""></textarea>
                    </div>
                    <div class="row">
                        <label class="descrowlabel">Payment Mode</label>
                        <div class="flexdiv" id="paymentdiv">
                            <label><input type="radio" name="method" value="cash" class="check" />Cash</label>
                            <label><input type="radio" name="method" value="debit card" class="check" />Debit
                                Card</label>
                            <label><input type="radio" name="method" value="credit card" class="check" />Credit
                                Card</label>
                        </div>
                    </div>
                    <div class="row buttons">
                        <div class="box">
                            <button class="primary" type="button" id="addbtn">ADD</button>
                        </div>
                        <div class="box">
                            <button class="primary hidden" type="button" id="update">UPDATE</button>
                        </div>
                        <div class="box">
                            <button class="sec" type="button" onclick="resetThis()">CANCEL</button>
                        </div>
                    </div>
                </form>
            </div>
            <div id="edit" class="hidden">
                <table id="tablee">
                    <thead>
                    <tr>
                        <th>Property</th>
                        <th>value</th>
                    </tr>
                </thead>
                <tbody id="tbody"></tbody>
                </table>
                <button  onclick="change()">x</button>
            </div>
        </div>
    </div>

    <div class="split right">
       
    <h2>Expenses</h2>
    <div>
        <input type="text"  id="search">
        <label id="datelabel"> From Date <input type="date"  id="fromdate"> To Date<input type="date"  id="todate"></label>
        <label id="categorylabel">Select a Category</label>
        <select id="searchCat">
            <option  value = "">Select a Category</option>
            <option>Dairy Products</option>
            <option>Snacks</option>
            <option>Electronics</option>
            <option>Travel Expense</option>
        </select>
        <select id="searchMod">
            <option value = "">Mode of payment</option>
            <option>cash</option>
            <option>debit card</option>
            <option>credit cards</option>
        </select>
        <label >Range from : this<input type="number" id="lower"> to this <input type="number" id="upper"> </label>
    
        <button type="button" id = "searchBtn" >Search</button>
    </div>
    <ul id="data"></ul>      
</body>

  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>
  <script src="/js/ExpenseTracker/firstpage.js"></script>

  <script type="module" src="/js/ExpenseTracker/firstpageFB.js"></script>
  <!-- importing the function addfb  -->
  <script type="module">
    import {addfb,getAllDoc,viewelem,updateDetails} from "/js/ExpenseTracker/firstpageFB.js";
    document.getElementById("addbtn").addEventListener("click",function(event){
        addfb();
    });
    document.getElementById("update").addEventListener("click",function(event){
        let x = document.getElementById('update').getAttribute('expid');
        updateDetails(x);
    });
    //clicking on search runs the following
    document.getElementById("searchBtn").addEventListener("click",function(event){
        getAllDoc();
    });
    getAllDoc();
  </script>
</html>


